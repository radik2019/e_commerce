
{% extends "store_app/base.html" %}
{% block content %}

    {% if auth %}

        <form method="POST" action="{% url 'index' %}{{ product.id }}/mod/" class="position-absolute top-50 start-50 translate-middle">
            {% csrf_token %} 
            <h1> modifie product data</h1>

            <hr>
                
            <hr>
            <select name="cat" class="form-select" aria-label="Default select example" style="width: 400px;">
                {% comment %} <option selected>{{ cat.first.name }}</option> {% endcomment %}
                {% for ct in cat %}
                    {% if ct.name == product.category.name %}
                        <option selected name="cat">  {{ ct.name }}  </option>
                    {% endif %}
                    <option name="cat">  {{ ct.name }}  </option>
                {% endfor %}
            </select>
            <br>

            <select name="subcategory" class="form-select" aria-label="Default select example" style="width: 400px;">
                {% comment %} <option selected>{{ subcat.first.name }}</option> {% endcomment %}
                {% for ct in subcat %}
                    {% if ct.name == product.sub_cat.name %}
                        <option name="cat" selected>  {{ ct.name }}  </option>
                    {% endif %}
                    <option name="subcategory" >  {{ ct.name }}  </option>
                {% endfor %}

            </select>


            <br>
            
            <div class="input-group mb-3 .bg-info.bg-gradient" style="width: 400px;">
                <span class="input-group-text" id="inputGroup-sizing-default">Name</span>
                <input  value="{{ nm }}" type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" name="name" >
            </div>

                        
            <div class="input-group mb-3 .bg-info.bg-gradient" style="width: 400px; ">
                <span class="input-group-text" id="inputGroup-sizing-default">Avaiability</span>
                <input value="{{ product.avaiability }}" type="text" min="0" class="form-control" aria-label="Sizing example input" 
                aria-describedby="inputGroup-sizing-default" name="avaiability" >
            </div>

            <br>

            
            <div class="input-group mb-3 .bg-info.bg-gradient" style="width: 400px; ">
                <span class="input-group-text" id="inputGroup-sizing-default">Price</span>
                <input value="{{ product.price }}" input type="number" min="0" step="0.01" class="form-control" aria-label="Sizing example input" 
                aria-describedby="inputGroup-sizing-default" name="price" >
            </div>



            <br>

            
            <div class="input-group mb-3 .bg-info.bg-gradient" style="width: 400px; ">
                <span class="input-group-text" id="inputGroup-sizing-default">Product Code</span>
                <input value="{{ product.code_product }}" type="text" class="form-control" aria-label="Sizing example input" 
                aria-describedby="inputGroup-sizing-default" name="code_product" >
            </div>


            <br>

            
            <div class="input-group mb-3 .bg-info.bg-gradient" style="width: 400px; ">
                <span class="input-group-text" id="inputGroup-sizing-default">Discount</span>
                <input value="{{ product.discount }}" type="number" step="0.01" min="0" class="form-control" aria-label="Sizing example input" 
                aria-describedby="inputGroup-sizing-default" name="discount" >
            </div>



            <input type="submit" value="Save" class="form-control" style="width: 400px; background-color: #c2f702;">
        </form>

        <hr class="position-absolute top-100 start-50 translate-middle">
        <hr>
    {% else %}
        <h2> Non sei authorizzato </h2>
        <br>
        <a href="{% url 'login' %}">
            <h2 class="text-white">Login</h2>
        </a>
    {% endif %}

{% endblock %}


